(this["webpackJsonpreact_gallery_app-v1"]=this["webpackJsonpreact_gallery_app-v1"]||[]).push([[0],{19:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(29),o=c.n(n),s=(c(19),c(11)),i=c(12),h=c(14),l=c(13),j=c(9),u=c(2),d=c(30),b=c.n(d),p="f007f13d289ea908d9a51c8cd4f89376",f=c(0),v=function(){return Object(f.jsx)("header",{children:Object(f.jsx)("nav",{className:"main-nav",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{to:"/cats",children:"Cats"})}),Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{to:"/dogs",children:"Dogs"})}),Object(f.jsx)("li",{children:Object(f.jsx)(j.b,{to:"/beaches",children:"Beaches"})})]})})})},O=function(){return Object(f.jsxs)("li",{className:"not-found",children:[Object(f.jsx)("h3",{children:"Sorry could not find any pictures."}),Object(f.jsx)("h3",{children:"Bummer no pictures could be found :("})]})},x=function(e){var t=e.topic||e.match.params.searchTerm,c=e.retrievePhotoData(t);return c?c.length>0?Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"photo-container",children:[Object(f.jsx)("h3",{children:"Found some pictures of ".concat(t)}),Object(f.jsx)("h4",{children:"Click a photo category above, or search for something!"}),Object(f.jsx)("ul",{children:c})]})}):Object(f.jsx)(O,{}):Object(f.jsx)("h4",{children:"Loading...."})},g=function(e){Object(h.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(s.a)(this,c);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(t){t.preventDefault();var c=e.searchTerm.value,r="/search/".concat(c);e.props.onSearch(c),e.props.history.push(r),t.currentTarget.reset()},e}return Object(i.a)(c,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("form",{className:"search-form",onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{type:"search",name:"search",placeholder:"Search",ref:function(t){return e.searchTerm=t},required:!0}),Object(f.jsx)("button",{type:"submit",className:"search-button",children:Object(f.jsxs)("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(f.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Object(f.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})})]})}}]),c}(r.Component),m=Object(u.f)(g),D=function(e){Object(h.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(s.a)(this,c);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0,defaultTopic:"surfing",retrievedPhotoData:{},currentTopic:null},e.getFlickrResults=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.defaultTopic;b.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(p,"&tags=").concat(t,"&safe_search=1&format=json&nojsoncallback=1&per_page=24")).then((function(e){return e.data.photos.photo.reduce((function(e,t){var c="https://live.staticflickr.com/".concat(t.server,"/").concat(t.id,"_").concat(t.secret,"_b.jpg");return e.push(Object(f.jsx)("li",{children:Object(f.jsx)("img",{src:c,alt:"featured pic"})},t.id)),e}),[])})).then((function(c){e.setState((function(e){var r=e.retrievedPhotoData;return r[t]=c,{retrievedPhotoData:r,currentTopic:t,isLoading:!1}}))})).catch((function(e){return console.log(e)}))},e.retrievePhotoData=function(t){return e.state.retrievedPhotoData[t]||e.getFlickrResults(t),e.state.retrievedPhotoData[t]},e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.getFlickrResults(),this.getFlickrResults("cats"),this.getFlickrResults("dogs"),this.getFlickrResults("beaches")}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(j.a,{children:[Object(f.jsx)(m,{onSearch:this.retrievePhotoData}),Object(f.jsx)(v,{}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{exact:!0,path:"/treehouse_project_7_React_gallery_app",render:function(){return Object(f.jsx)(x,{retrievePhotoData:e.retrievePhotoData,topic:e.state.defaultTopic})}}),Object(f.jsx)(u.a,{path:"/search/:searchTerm",render:function(t){var c=t.match;return Object(f.jsx)(x,{retrievePhotoData:e.retrievePhotoData,match:c})}}),Object(f.jsx)(u.a,{exact:!0,path:"/cats",render:function(){return Object(f.jsx)(x,{retrievePhotoData:e.retrievePhotoData,topic:"cats"})}}),Object(f.jsx)(u.a,{exact:!0,path:"/dogs",render:function(){return Object(f.jsx)(x,{retrievePhotoData:e.retrievePhotoData,topic:"dogs"})}}),Object(f.jsx)(u.a,{exact:!0,path:"/beaches",render:function(){return Object(f.jsx)(x,{retrievePhotoData:e.retrievePhotoData,topic:"beaches"})}}),Object(f.jsx)(u.a,{component:O})]})]})}}]),c}(r.Component),P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;c(e),r(e),a(e),n(e),o(e)}))};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),P()}},[[60,1,2]]]);
//# sourceMappingURL=main.52cb9155.chunk.js.map